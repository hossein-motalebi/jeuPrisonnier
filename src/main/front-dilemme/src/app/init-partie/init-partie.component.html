<form (ngSubmit)="onSubmit()" #initForm="ngForm" class="init-form">
  <h2 class="form-title">Initialisez une Partie</h2>

  <!-- Nom du joueur -->
  <div class="form-group">
    <label for="nomJoueur" class="form-label">Votre nom :</label>
    <input
      id="nomJoueur"
      name="nomJoueur"
      required
      minlength="3"
      maxlength="20"
      [(ngModel)]="nomJoueur"
      #nomRef="ngModel"
      class="form-control"
    />
    <div *ngIf="nomRef.invalid && nomRef.touched" class="error">
      <span *ngIf="nomRef.errors?.['required']">Le nom est obligatoire !</span>
      <span *ngIf="nomRef.errors?.['minlength']">Le nom doit contenir au moins 3 caractÃ¨res.</span>
      <span *ngIf="nomRef.errors?.['maxlength']">Le nom ne doit pas dÃ©passer 20 caractÃ¨res.</span>
    </div>
  </div>

  <!-- Options -->
  <div class="form-group">
    <label class="form-label">Choisissez :</label>
    <div class="radio-group">
      <label class="radio-option">
        <input
          type="radio"
          [(ngModel)]="optionSelectionnee"
          value="nouveau"
          name="option"
        />
        CrÃ©er un nouveau jeu
      </label>
      <label class="radio-option">
        <input
          type="radio"
          [(ngModel)]="optionSelectionnee"
          value="joindre"
          name="option"
        />
        Joindre un jeu existant
      </label>
    </div>
  </div>

  <!-- CrÃ©er un nouveau jeu -->
  <div *ngIf="optionSelectionnee === 'nouveau'" class="form-group">
    <label for="nbMaxTours" class="form-label">Nombre de tours :</label>
    <input
      type="number"
      id="nbMaxTours"
      name="nbMaxTours"
      min="1"
      [(ngModel)]="nbMaxTours"
      class="form-control"
    />
  </div>

  <!-- Joindre un jeu existant -->
  <div *ngIf="optionSelectionnee === 'joindre'" class="form-group">
    <label for="partiesEnCours" class="form-label">SÃ©lectionnez une partie :</label>
    <div class="partie-list-container">
      <select
        id="partiesEnCours"
        name="partiesEnCours"
        [(ngModel)]="partieSelectionnee"
        class="form-control"
      >
        <option *ngFor="let partie of partiesEnCours" [value]="partie.idPartie">
          Partie : {{ partie.idPartie }} | Adversaire : {{ partie.nomJoueur }}
        </option>
      </select>
      <button type="button" (click)="actualiserParties()" class="btn-refresh">
        ğŸ”„ Actualiser
      </button>
    </div>
  </div>

  <!-- Bouton Valider -->
  <button type="submit" [disabled]="!optionSelectionnee || initForm.invalid" class="btn-submit">
    Jouer
  </button>
</form>

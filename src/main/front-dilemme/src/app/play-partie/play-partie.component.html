<div *ngIf="partieStatus; else pasDePartie" class="game-container">
  <!-- Bloc 1 : Informations générales -->
  <div class="block">
    <h2 class="block-title">Scores</h2>
    <ul>
      <li><strong>Vous :</strong> {{ partieStatus.scoreJoueur1 }}</li>
      <li><strong>{{ partieStatus.nomJoueur2 }} :</strong> {{ partieStatus.scoreJoueur2 }}</li>
    </ul>
  </div>

  <!-- Bloc 2 : Historique -->
  <div class="block">
    <h2 class="block-title">Historique des Tours</h2>
    <table class="history-table">
      <thead>
      <tr>
        <th>Tour</th>
        <th>Votre décision</th>
        <th>Décision adversaire</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let t of partieStatus.historique; index as i">
        <td>{{ i + 1 }}</td>
        <td>{{ t.decisionJoueur1 }}</td>
        <td>{{ t.decisionJoueur2 }}</td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- Bloc 3 : Zone de décision -->
  <div *ngIf="partieStatus.nbTourLeft > 0" class="block">
    <h2 class="block-title">Votre Décision</h2>
    <div class="decision-options">
      <label>
        <input type="radio" [(ngModel)]="decision" value="COOPERER" />
        Coopérer
      </label>
      <label>
        <input type="radio" [(ngModel)]="decision" value="TRAHIR" />
        Trahir
      </label>
    </div>
    <button
      (click)="onJouerCoup()"
      class="btn-play"
      [disabled]="!decision || waitingForOtherPlayer"
    >
      Jouer
    </button>
  </div>
</div>

<!-- Template si aucune partie n'est disponible -->
<ng-template #pasDePartie>
  <p class="no-game-message">Aucune partie en cours. Veuillez retourner à l'accueil.</p>
</ng-template>
